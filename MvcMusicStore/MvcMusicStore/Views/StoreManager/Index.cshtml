@model IEnumerable<MvcMusicStore.Models.Album>

@helper Truncate(string input, int length) { 

        if ( input.Length <= length )
        {
            @input
        } else {
            @input.Substring(0, length)<text> ...</text>
        }

    }

@{
    ViewBag.Title = "Index";
}

<div class="card mx-5 my-5">
    <div class="card-header">
        <p class="float-right">
            @Html.ActionLink("Create New", "Create", "StoreManager", null, new { @class = "btn btn-default btn-success btn-mini" })
        </p>
        <h2 class="text-info">Store Manager</h2>
    </div>
    <div class="card-body">
        <table class="table table-striped table-borderless">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Genre.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Artist.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Title)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Price)
                    </th>
                    <th></th>
                </tr>
            </thead>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Genre.Name)
                    </td>
                    <td>
                        @Truncate(item.Artist.Name, 25)
                        @*@Html.DisplayFor(modelItem => item.Artist.Name)*@
                    </td>
                    <td>
                        @Truncate(item.Title, 25)
                        @*@Html.DisplayFor(modelItem => item.Title)*@
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Price)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.AlbumId }) |
                        @Html.ActionLink("Details", "Details", new { id = item.AlbumId }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.AlbumId })
                    </td>
                </tr>
            }

        </table>

    </div>
</div>

        


